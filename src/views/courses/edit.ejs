<!DOCTYPE html>
<html lang="en">
<%- include("../partials/head") %> 
<body>
    <%- include("../partials/header") %> 
    <main>
        <section>
            <form action="/courses/edit/<%= id %>?_method=PUT" method="post" enctype="multipart/form-data">
                <div>
                    <label for="title">Titulo del Curso</label>
                    <input type="text" id="title" name="title" value="<%= locals.old && old.title ? old.title : title %>">
                    <small style="color:red"><%= locals.errors && locals.errors.title ? locals.errors.title.msg : null %></small>
                </div>
                <div>
                    <label for="price">Precio</label>
                    <input type="number" id="price" name="price" value="<%= locals.old && old.price ? old.price : price %>">
                    <small style="color:red"><%= locals.errors && locals.errors.price ? locals.errors.price.msg : null %></small>
                </div>
                <div>
                    <label for="description">Descripcion</label>
                    <textarea name="description" id="description" cols="30" rows="10"><%= locals.old && old.description ? old.description : description %></textarea>
                    <small style="color:red"><%= locals.errors && locals.errors.description ? locals.errors.description.msg : null %></small>
                </div>
                <div>
                    <label for="images">Imagenes del Curso</label>
                    <input type="file" id="images" name="images" multiple>
                    <small style="color:red"><%= locals.errors && errors.images ? errors.images.msg : null %></small>
                </div>
                <div>
                    <label for="status">Estado</label>
                    <select name="status" id="status" name="status">
                        <% productStatus.forEach(({name, id}) => { %>
                            <option value="<%= name %>" name="status" <%= status === name && "selected" %> ><%= name %></option>
                           <% }) %>
                    </select>
                    <small style="color:red"><%= locals.errors && locals.errors.status ? locals.errors.status.msg : null %></small>
                </div>
                <div>
                    <label for="chef">Chef</label>
                    <select name="chef" id="chef" name="chef">
                        <% chefs.forEach(({name, id}) => { %>
                            <option value="<%= name %>" name="chef" <%= chef === name && "selected" %>><%= name %></option>
                           <% }) %>
                    </select>
                    <small style="color:red"><%= locals.errors && locals.errors.chef ? locals.errors.chef.msg : null %></small>
                </div>
                <div>
                    <label for="category">Categoria</label>
                    <select name="category" id="category">
                        <% categories.forEach(({idCategory, category}) => { %>
                            <option value="<%= idCategory %>" name="category" <%= idCategory === idCategory && "selected" %>><%= category %></option>
                           <% }) %>
                    </select>
                    <small style="color:red"><%= locals.errors && locals.errors.category ? locals.errors.category.msg : null %></small>
                </div>
                <div>
                    <button type="submit">Enviar</button>
                </div>
            </form>
        </section>        
        </main>

    <%- include("../partials/footer") %> 
</body>
</html>